---
title: 网络代理
order: 5
---

# 配置 Linux 网络代理

## 配置 linux 通过 Windows 上网的网络代理

[参考来源](https://www.jianshu.com/p/42a90cf33095)

> **背景：** 由于一些服务器处于安全考虑，只能通过内网访问，且服务器不能够请求外网，此时需要 Windows 代理让 Linux 联网安装应用

### 1.privoxy：

Windows 上先安装代理工具 `privoxy`

[下载地址](http://www.privoxy.org/)

安装软件后，配置启动端口：修改安装目录下的 config.txt 文件中的 `listen-address` （**记得备份**）：

<img src="./img/privoxy配置项.jpg">
</br>

点击 `privoxy.exe` 启动代理服务器

### 2.在 linux 中配置代理

- 修改 `/etc/profile` 文件：

  ```bash
  http_proxy=http://127.0.0.1:18088/
  https_proxy=http://127.0.0.1:18088/
  export http_proxy https_proxy
  ```

- 执行如下命令使配置生效：

  ```bash
  source /etc/profile
  ```

### 3.配置映射

**通过 SecureCRT 配置 Linux 到本机的映射**

- 先正常按照 `xshell` 的方式配置一个远程连接 session

- 然后找到 选项 `Options` -> `Session Options` -> `端口转发Prot...` -> `X11`

    <img src="./img/secureCRT配置1.jpg">

- 点击 `add` 按钮，`Name` 随便起，`Port` 为 **18088** 即可

    <img src="./img/secureCRT配置2.jpg">

最后测试:

```bash
curl www.baidu.com
```
